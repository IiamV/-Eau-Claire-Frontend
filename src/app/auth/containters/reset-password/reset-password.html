<app-loading [isShow]="isLoading()" [message]="'Đang tải'"> </app-loading>

<app-status-popup
  [buttonText]="'Đăng nhập ngay'"
  [message]="'Mật khẩu của bạn đã được cập nhật thành công'"
  [title]="'Thành công!'"
  [isOpen]="isPopupOpen()"
  (close)="isPopupOpen.set(false)"
  [buttonLink]="'/login'"
  [isSuccess]="true"
>
</app-status-popup>

<app-auth-layout>
  <div class="text-base w-full">
    <div>
      <h2 class="text-5xl font-bold text-center mb-6">Đổi mật khẩu</h2>
    </div>

    <!-- Reset Password Form -->
    <div class="">
      <form [formGroup]="resetForm" (ngSubmit)="!isLoading() && onResetSubmit()" class="space-y-4">
        <div class="">
          <!-- Nhập Mật khẩu -->
          <app-primary-forms-input
            [formControlName]="'newPassword'"
            id="password"
            label="Nhập mật khẩu mới"
            type="password"
            placeholder="Nhập mật khẩu mới"
            [extraClass]="'w-full py-4 placeholder-[#000000]/50 rounded-xl'"
          >
          </app-primary-forms-input>

          <!-- Nhập Lại Mật khẩu -->
          <app-primary-forms-input
            [formControlName]="'confirmPassword'"
            id="confirm-password"
            label="Xác nhận lại mật khẩu"
            type="password"
            placeholder="Nhập lại mật khẩu"
            [extraClass]="'w-full py-4 placeholder-[#000000]/50 rounded-xl'"
          >
          </app-primary-forms-input>
        </div>

        <!-- Nút xác nhận -->
        <div class="flex justify-center text-white">
          <app-button
            type="submit"
            [extraClass]="'border-1 bg-[#BD9F69] rounded-[10px] w-full px-25 py-4'"
          >
            <span class="grow text-center">Đổi mật khẩu</span>
          </app-button>
        </div>
      </form>
    </div>

    <div class="text-center flex justify-center mt-3">
      <a [routerLink]="['/login']" class="text-[16px] text-black hover:underline">
        <div class="gap-2 justify-center flex items-center">
          <svg
            width="20px"
            height="20px"
            viewBox="0 0 1024 1024"
            xmlns="http://www.w3.org/2000/svg"
            fill="#000000"
          >
            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
            <g id="SVGRepo_iconCarrier">
              <path fill="#000000" d="M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64z"></path>
              <path
                fill="#000000"
                d="m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312L237.248 512z"
              ></path>
            </g>
          </svg>
          <span class="text-md"> Trở lại trang Đăng Nhập </span>
        </div>
      </a>
    </div>
  </div>
</app-auth-layout>
